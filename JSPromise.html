<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise in JS</title>
</head>
<body>
    <p>code executions in console</p>
    <script>
        // let p = new Promise((resolve,reject)=>{
        //     console.log("Promise P is pending");
        //     setTimeout(() => {
        //         //console.log("I am a promise P and i m fullfilled");
        //         resolve(true);       //when promise resolved it gives value
        //     }, 5000);
        // });
        // console.log(p);
        
        // // p.then((value)=>{
        // //     console.log(value);
        // // });

        // p.then((alert)=>{          //here value and alert are like arguments for function
        //     console.log(alert);
        // });

        // let p1 = new Promise((resolve , reject)=>{
        //     console.log("Promise P1 is pending");
        //     setTimeout(() => {
        //         //console.log("i m a promise P1 and i m rejected");
        //         resolve(true);
        //         //reject(new Error("Rejected promise P1 throws an error")); //when promise rejected it gives error
        //     }, 7000);
        // });
        // console.log(p1);
        // // p1.catch((error)=>{
        // //     console.log("There is an error in Promis p1");
        // // });

        // // p1.catch((wrong)=>{
        // //     console.log("There is an error in Promis p1");
        // // });

        // //or we can take value and error both in one function
        
        // p1.then((value)=>{
        //     console.log(value);
        // },(error)=>{
        //     console.log(error);
        // });

        // //promise chaining

        // const loadScript = ((src)=>{
        //      return new Promise((resolve,reject)=>{
        //         let script = document.createElement("script");
        //         script.src = src;
        //         document.body.appendChild(script);
        //         script.onload = ()=>{
        //             resolve(5);
        //         }
        //         script.onerror = ()=>{
        //             reject(0);
        //         }
        //      })
        // });
        // let P2 = loadScript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js");
        // P2.then((value)=>{
        //     console.log(value);
        // }).catch((error)=>{
        //     console.log("there is an error loading in a script");
        // });
        // console.log(P2);

        //promise classes have 6 static methods


        let promise1 = new Promise((resolve,reject)=>{
            console.log("promise1 is pending");
            setTimeout(() => {
                resolve("promise1 is success");
                //reject("Promise1 have an error");
            }, 8000);
        });
        
        let promise2 = new Promise((resolve,reject)=>{
            console.log("promise2 is pending");
            setTimeout(() => {
                resolve("promise2 is success");
            }, 2000);
        });
        let promise3 = new Promise((resolve,reject)=>{
            console.log("promise3 is pending");
            setTimeout(() => {
                resolve("promise3 is success");
            }, 5000);
        });
        

        Promise.all([promise1,promise2,promise3])
        .then((res)=>{
            console.log(res);
        })
        .catch((error)=>{
             console.error(error);
        })
        Promise.allSettled([promise1,promise2,promise3]).then((res)=>{
            console.log(res);
        });
        Promise.any([promise1,promise2,promise3]).then((res)=>{
            console.log(res);
        });
        // Promise.resolve([promise1,promise2,promise3]).then((res)=>{
        //     console.log(res);
        // });
        // Promise.reject([promise1,promise2,promise3]).then((res)=>{
        //     console.log(res);
        // });

         
    </script>
    
</body>
</html>